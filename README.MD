æ˜ç™½äº†ï¼Œä½ å¸Œæœ›æŠŠ Arxiv Knowledge Assistant çš„ README æ”¹å¯«æˆé€™ç¨® **èª²ç¨‹å°ˆæ¡ˆ / MLOps å°ˆæ¡ˆé¢¨æ ¼**ï¼ŒåŒ…å«ï¼š

* ğŸ¯ Course Project / Objective
* ğŸ§© Problem Statement
* ğŸš€ Technologies Used
* ğŸ—ï¸ Project Structure
* ğŸ§ª Model Lifecycle
* ğŸ–¥ï¸ System Architecture (Mermaid)
* ğŸ“ˆ Evaluation Checklist
* ğŸ“¦ Installation Guide
* ğŸ” Dataset / è³‡æ–™ä¾†æº
* ğŸ”— Useful Resources
* ğŸ“œ License

æˆ‘å¯ä»¥ä¾ç…§ä½ çš„åŸå§‹å…§å®¹é‡æ•´æˆé€™å€‹æ ¼å¼ï¼Œä¸¦æŠŠ Firebase Service Accountã€Docker Compose è¦–è¦ºåœ–ã€æœªå®ŒæˆåŠŸèƒ½ï¼ˆCICDã€testï¼‰å®Œæ•´å‘ˆç¾ã€‚

ä¸‹é¢æ˜¯ä¸€å€‹åˆæ­¥æ½¤é£¾ç‰ˆï¼ˆä¾ä½ çš„é¢¨æ ¼æ•´ç†ï¼‰ï¼š

---

# Arxiv Knowledge Assistant (Beta)

[English](./readme_en.md)

## ğŸ¯ Course Project

### Objective

æœ¬å°ˆæ¡ˆæ—¨åœ¨å»ºæ§‹ä¸€å€‹ **arXiv è«–æ–‡çŸ¥è­˜æª¢ç´¢å¹³å°**ï¼Œå¯¦ä½œå®Œæ•´çš„è³‡æ–™æ“·å–ã€å‘é‡åŒ–æª¢ç´¢ã€LLM å•ç­”èˆ‡å¯è¦–åŒ– Dashboardã€‚

ä½¿ç”¨è€…å¯ä»¥æŸ¥è©¢è«–æ–‡æ‘˜è¦ã€PDFã€å•ç­”ç´€éŒ„èˆ‡å¼•ç”¨ä¾†æºï¼›é–‹ç™¼è€…å¯è¨­å®šè‡ªå‹•æ“·å–æµç¨‹ã€ç®¡ç†å‘é‡ç´¢å¼•ã€è§€å¯Ÿæ¨¡å‹å›ç­”æ•ˆèƒ½ï¼Œä¸¦å¯æ“´å……è‡³å€‹äººåŒ– RAG ç­–ç•¥ã€‚

---

## ğŸ§© Problem Statement

* è‡ªå‹•æŠ“å–æ¯æ—¥ arXiv è«–æ–‡ï¼šMetadataã€PDFã€æ‘˜è¦
* æ”¯æ´ä¸­è‹±æ–‡ç¿»è­¯èˆ‡å•ç­”
* æä¾›å‘é‡è³‡æ–™åº«æª¢ç´¢ + LLM å•ç­”ï¼ˆRAGï¼‰
* å¯å®¢è£½åŒ– Prompt èˆ‡ Agent åæ€æ·±åº¦
* Dashboard æŸ¥çœ‹æ­·å²ç´€éŒ„èˆ‡çµ±è¨ˆ
* æœªä¾†è¨ˆç•«ï¼šEmail æ¨é€ã€CICDã€å–®å…ƒ/æ•´åˆæ¸¬è©¦

---

## ğŸš€ Technologies Used

| é¡åˆ¥                | å·¥å…·èˆ‡æ¡†æ¶                                            |
| ----------------- | ------------------------------------------------ |
| **Cloud / Infra** | Docker Composeã€MinIOã€PostgreSQLã€Qdrant           |
| **Backend / API** | FastAPI, Celery, Prefect 2                       |
| **Frontend**      | React + Vite                                     |
| **Monitoring**    | Prometheus + Grafana, Logging                    |
| **CI/CD**         | GitHub Actions (æœªå®Œæˆ)                             |
| **Testing**       | pytestï¼ˆå–®å…ƒ + æ•´åˆï¼Œå°šæœªå®Œæˆï¼‰                             |
| **IaC**           | Docker Compose + Volume + Networkï¼ˆå¯å»¶ä¼¸ Terraformï¼‰ |

---

## ğŸ—ï¸ Project Structure

```
.
.
â”œâ”€â”€ frontend/                 # React Vite app
â”œâ”€â”€ data/, database/          # Database & storage initialization
â”œâ”€â”€ docs/                     # æŠ€è¡“æ–‡ä»¶ã€å¯¦ä½œæ­·ç¨‹
â”œâ”€â”€ mcpclient/                # MCP Client backend service
â”œâ”€â”€ image/                    # Image-related scripts (æœªä¾†æ“´å……)
â”œâ”€â”€ speech/                   # Speech service backend (æœªä¾†æ“´å……)
â”œâ”€â”€ note/                     # Note backend service (Arxiv ingestion, RAG, tasks)
â”œâ”€â”€ ollama_models/            # æœ¬åœ° Ollama æ¨¡å‹ç®¡ç†
â”œâ”€â”€ services/                 # å„å¾®æœå‹™ Dockerfile & requirements
â”‚   â”œâ”€â”€ celeryworker/
â”‚   â”œâ”€â”€ emailservice/
â”‚   â”œâ”€â”€ imageservice/
â”‚   â”œâ”€â”€ mcpclient/
â”‚   â”œâ”€â”€ noteservice/
â”‚   â””â”€â”€ speechservice/
â”œâ”€â”€ terraform/                # å¯é¸ IaC è…³æœ¬
â”œâ”€â”€ docker-compose*.yml       # Docker Compose configurations
â”œâ”€â”€ Dockerfile.*              # å„å®¹å™¨ Dockerfile
â”œâ”€â”€ Makefile, setup.sh, require.txt
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ terraform.tfstate
â”œâ”€â”€ test/                     # å–®å…ƒæ¸¬è©¦ & Pytest
â”œâ”€â”€ translate.sh
â””â”€â”€ README.md

```

---

## ğŸ§ª System Workflow

1. Celery Beat å®šæœŸè§¸ç™¼ arXiv æ“·å–æµç¨‹
2. PDF èˆ‡ Metadata å„²å­˜è‡³ MinIO / PostgreSQL
3. æ–‡æœ¬å‘é‡åŒ–å­˜å…¥ Qdrant
4. LLM å•ç­”ä½¿ç”¨ RAG + Agent åæ€ç­–ç•¥
5. çµæœå›å‚³è‡³å‰ç«¯ Dashboard
6. æ—¥å¾Œå¯é€é GitHub Actions è§¸ç™¼ CICD / æ¨¡å‹æ›´æ–°

---

## ğŸ–¥ï¸ System Architecture (Mermaid)

```mermaid
flowchart LR
    %% ===== ä½¿ç”¨è€…å…¥å£ =====
    User[User]:::user --> nginx[Nginx å…¥å£ / åå‘ä»£ç†]:::frontend

    %% ===== èªè­‰èˆ‡è·¯ç”± =====
    nginx --> mcpclient[MCPClient Auth & Router]:::auth

    %% ===== MCPClient åˆ†æ´¾æœå‹™ =====
    mcpclient --> noteserver[NoteServer RAG/ç­†è¨˜æœå‹™]:::service
    mcpclient --> ollama_dev[Ollama LLM API]:::llm
    noteserver --> |POST è«‹æ±‚| ollama_dev

    %% ===== Storage æ¨¡å¡Š =====
    subgraph Storage["Storage æ¨¡å¡Š (è³‡æ–™å­˜å–)"]
        note_db[Postgres<br/>é—œè¯å¼è³‡æ–™åº«]:::storage
        note_storage[MinIO<br/>ç‰©ä»¶å­˜å„²]:::storage
        note_qdrant[Qdrant<br/>å‘é‡è³‡æ–™åº«]:::storage
    end

    %% Flower èˆ‡ Redis å…±ç”¨
    flower[Flower<br/>ä»»å‹™ç›£æ§ UI]:::monitor
    redis[Redis<br/>Celery ä»»å‹™éšŠåˆ—]:::queue

    %% ===== Ingest Arxiv TaskWorker =====
    subgraph TaskWorker1["Ingest Arxiv Paper ä»»å‹™éšŠåˆ—èˆ‡å¾Œå°è™•ç†"]
        worker[Worker<br/>åŸ·è¡Œ Celery ä»»å‹™]:::worker
        beat[Beat<br/>å®šæ™‚ä»»å‹™ç™¼é€]:::beat

        %% ä»»å‹™æµç¨‹
        beat -->|å®šæ™‚ä»»å‹™æ¨é€åˆ° Redis| redis
        redis -->|Worker å¾ Redis æ‹‰å–ä»»å‹™| worker
        worker -->|ä»»å‹™å®Œæˆçµæœå­˜å…¥ Storage| Storage
        worker --> flower
        beat --> flower
    end

    %% ===== Email Service TaskWorker =====
    subgraph TaskWorker2["Email Service ä»»å‹™éšŠåˆ—èˆ‡å¾Œå°è™•ç†"]
        worker2[Worker<br/>åŸ·è¡Œ Celery ä»»å‹™]:::worker
        beat2[Beat<br/>å®šæ™‚ä»»å‹™ç™¼é€]:::beat

        %% ä»»å‹™æµç¨‹
        beat2 -->|å®šæ™‚ä»»å‹™æ¨é€åˆ° Redis| redis
        redis -->|Worker å¾ Redis æ‹‰å–ä»»å‹™| worker2
        worker2 -->|ä»»å‹™å®Œæˆçµæœå­˜å…¥ Storage| Storage
        worker2 -->|å¯„ä¿¡çµ¦ä½¿ç”¨è€…| User
        worker2 --> flower
        beat2 --> flower
    end

    %% ===== é–‹ç™¼è€…å°ˆç”¨ LLM =====
    subgraph AIAgent["é–‹ç™¼è€…å°ˆç”¨ LLM"]
        openwebui[Open-WebUI]:::frontend
        ollama_dev[Ollama]:::llm
        openwebui <--> ollama_dev
    end

    %% ===== æ¨¡å¡Šé¡è‰² =====
    classDef user fill:#FFD700,stroke:#333,stroke-width:1px
    classDef frontend fill:#87CEEB,stroke:#333,stroke-width:1px
    classDef auth fill:#FFA500,stroke:#333,stroke-width:1px
    classDef service fill:#7FFFD4,stroke:#333,stroke-width:1px
    classDef storage fill:#F08080,stroke:#333,stroke-width:1px
    classDef worker fill:#9370DB,stroke:#333,stroke-width:1px
    classDef beat fill:#BA55D3,stroke:#333,stroke-width:1px
    classDef queue fill:#40E0D0,stroke:#333,stroke-width:1px
    classDef monitor fill:#FFDAB9,stroke:#333,stroke-width:1px
    classDef llm fill:#90EE90,stroke:#333,stroke-width:1px

```

---

## ğŸ” Reproducibility

ä½¿ç”¨è€…éœ€è‡ªè¡Œæº–å‚™ **Firebase Service Account Key**ï¼š

1. å‰å¾€ [Firebase Console](https://console.firebase.google.com/) å»ºç«‹å°ˆæ¡ˆ
2. å•Ÿç”¨ **Authentication**ï¼ˆGoogle ç™»å…¥ï¼‰
3. å»ºç«‹ Service Account ä¸¦ä¸‹è¼‰ `serviceAccountKey.json`
4. æ”¾ç½®æ–¼ `mcpclient/serviceAccountKey.json`

> è‹¥æœªæä¾› Keyï¼Œç³»çµ±å°‡ç„¡æ³•é©—è­‰ä½¿ç”¨è€…ï¼Œä¹Ÿç„¡æ³•å­˜å– Firebase è³‡æ–™ã€‚



---

## ğŸ“ˆ  Checklist

| é …ç›®                 | å‚™è¨»                                         |
| -------------------- | | ------------------------------------------ |
| Problem description  | åŠŸèƒ½èˆ‡ç›®æ¨™æ˜ç¢º                                    |
| Retrieval flow       |RAG + LLM å•ç­”æµç¨‹                             |
| Retrieval evaluation |  åˆæ­¥é©—è­‰ï¼Œå°šæœªæœ€ä½³åŒ–                                 |
| LLM evaluation       |  æ”¯æ´å¤šç¨® Prompt / Agent æ·±åº¦                     |
| Interface            |  Web UI + Dashboard                         |
| Ingestion pipeline   |  Celery Beat è‡ªå‹•æŠ“å– arXiv                     |
| Monitoring           |  å°šæœªå®Œæˆ                    |
| Containerization     |  Docker-compose å®Œæ•´ç®¡ç†                        |
| Reproducibility      |  å®Œæ•´ setup + requirementsï¼ŒFirebase Key éœ€è‡ªè¡Œæä¾› |
| CICD                 |  å°šæœªå®Œæˆ                                       |
| Testing              |  å°šæœªå®Œæˆ                                       |

---

## ğŸ“¦ Installation Guide

```bash
./setup.sh

```

---

## ğŸ”— Useful Resources

* [Firebase Authentication](https://firebase.google.com/docs/auth)
* [Qdrant](https://qdrant.tech/documentation/)
* [MLflow](https://mlflow.org/)
* [Prefect 2](https://docs.prefect.io/)
* [Grafana](https://grafana.com/)

---

## ğŸ“œ License

MIT License

---

å¦‚æœä½ é¡˜æ„ï¼Œæˆ‘å¯ä»¥å¹«ä½ å†åš **æ›´å®Œæ•´çš„ Mermaid ç³»çµ±åœ–**ï¼ŒæŠŠ **arXiv ingestion â†’ RAG â†’ LLM â†’ Dashboard â†’ Email** æµç¨‹éƒ½æ¨™å‡ºï¼Œè®“ CI/CD èˆ‡æ¸¬è©¦æœªå®Œæˆéƒ¨åˆ†ä¹Ÿèƒ½è¦–è¦ºåŒ–ã€‚

ä½ å¸Œæœ›æˆ‘å¹«ä½ åšé€™å€‹åœ–å—ï¼Ÿ
